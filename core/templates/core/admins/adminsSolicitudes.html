<!DOCTYPE html>
<html lang="es">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Miembro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
    <link rel="icon" type="image/png" href="{% static 'core/img/noise2.png' %}">
    <style>
        body {
            background: repeating-radial-gradient(circle, #ffffff, #f1f0f0);
        }
    </style>
</head>
<body>
<!-- Inicio menú de admin con logo -->
<nav class="navbar navbar-expand-sm bg-light navbar-light justify-content-center">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'adminsindex' %}">
            <img src="{% static 'core/img/LOGO.png' %}" alt="Avatar Logo" style="width:200px;" class="rounded-pill"> 
        </a>
    </div>
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link text-center" style="width:200px;">Bienvenido, {{ user.username }}</a>
        </li>
    </ul>
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="{% url 'logout' %}">
                <button class="btn btn-dark" type="button" style="width:120px;">Cerrar sesión</button>
            </a>
        </li>
    </ul> 
</nav>
<div class="container mt-5 text-center">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="artistas-tab" data-bs-toggle="tab" data-bs-target="#artistas" type="button" role="tab" aria-controls="artistas" aria-selected="true">Artistas</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="lanzamientos-tab" data-bs-toggle="tab" data-bs-target="#lanzamientos" type="button" role="tab" aria-controls="lanzamientos" aria-selected="false">Lanzamientos</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="generos-tab" data-bs-toggle="tab" data-bs-target="#generos" type="button" role="tab" aria-controls="generos" aria-selected="false">Géneros Musicales</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="tipolanzamientos-tab" data-bs-toggle="tab" data-bs-target="#tipolanzamientos" type="button" role="tab" aria-controls="tipolanzamientos" aria-selected="false">Tipos de Lanzamientos</button>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="artistas" role="tabpanel" aria-labelledby="artistas-tab">
            <h2>Solicitudes Artistas</h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Fecha de solicitud</th>
                        <th>Aprobado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% if Artistas %}
                        {% for Artista in Artistas %}
                        <tr>
                            <td>{{ Artista.nombreArtista }}</td>
                            <td>{{ Artista.fecha_solicitud }}</td>
                            <td><span class="badge bg-secondary">{{ Artista.aprobado }}</span></td>
                            <td>
                                <a class="btn btn-success" href="{% url 'adminsolicitudesartistas' %}?id={{ Artista.id }}">Revisar</a>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                        <td colspan="3">No hay solicitudes pendientes.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="lanzamientos" role="tabpanel" aria-labelledby="lanzamientos-tab">
            <h2>Solicitudes Lanzamientos</h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Fecha de solicitud</th>
                        <th>Aprobado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% if Lanzamientos %}
                        {% for Lanzamiento in Lanzamientos %}
                        <tr>
                            <td>{{ Lanzamiento.nombreLanzamiento }}</td>
                            <td>{{ Lanzamiento.fecha_solicitud }}</td>
                            <td><span class="badge bg-secondary">{{ Lanzamiento.aprobado }}</span></td>
                            <td>
                                <a class="btn btn-success" href="{% url 'adminsolicitudeslanzamientos' %}?id={{ Lanzamiento.id }}">Revisar</a>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                        <td colspan="3">No hay solicitudes pendientes.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="generos" role="tabpanel" aria-labelledby="generos-tab">
            <h2>Solicitudes Géneros Musicales</h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Fecha de solicitud</th>
                        <th>Aprobado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% if Generos %}
                        {% for Genero in Generos %}
                        <tr>
                            <td>{{ Genero.nombreGenero }}</td>
                            <td>{{ Genero.fecha_solicitud }}</td>
                            <td><span class="badge bg-secondary">{{ Genero.aprobado }}</span></td>
                            <td>
                                <a class="btn btn-success" href="{% url 'adminsolicitudesgeneros' %}?id={{ Genero.id }}">Revisar</a>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                        <td colspan="3">No hay solicitudes pendientes.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="tipolanzamientos" role="tabpanel" aria-labelledby="tipolanzamientos-tab">
            <h2>Solicitudes Tipos de Lanzamientos</h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Fecha de solicitud</th>
                        <th>Aprobado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% if TiposLanzamientos %}
                        {% for TipoLanzamiento in TiposLanzamientos %}
                        <tr>
                            <td>{{ TipoLanzamiento.nombreTipo }}</td>
                            <td>{{ TipoLanzamiento.fecha_solicitud }}</td>
                            <td><span class="badge bg-secondary">{{ TipoLanzamiento.aprobado }}</span></td>
                            <td>
                                <a class="btn btn-success" href="{% url 'adminsolicitudestipolanzamientos' %}?id={{ TipoLanzamiento.id }}">Revisar</a>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                        <td colspan="4">No hay solicitudes pendientes.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>

    
    
</div>

<!-- Inicio modals para registro e inicio de sesión -->
<div class="modal fade" id="SolicitudesModal" tabindex="-1" aria-labelledby="SolicitudesModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="registroModalLabel" style="color:black">Revisar nuevo Artista</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- Formulario de registro -->
          <div class="modal-body">
            <h5>Nombre: <span id="nombreArtista"></span></h5>
            <h5>Fecha de solicitud: <span id="fechaSolicitud"></span></h5>
            <h5>Aprobado: <span id="estadoAprobado"></span></h5>
            <form  method="post">
                {% csrf_token %}
                <input type="hidden" name="id" value="{{ Artista.id }}">
                <input type="hidden" name="aprobado" value="aprobado">
                <button type="submit" class="btn btn-success">Aprobar</button>
                <button type="submit" class="btn btn-danger">Rechazar</button>
            </form>
          </div>
        <!-- Fin formulario registro -->
        </div>
      </div>
    </div>
  </div>

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{% static 'core/js/funciones.js' %}"></script>

</body>
</html>
